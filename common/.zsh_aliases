# general aliases
alias vim="nvim"
alias zrc="vim ~/.zshrc"
alias lm="ls -l --block-size=M"
alias notes="vim ~/notes/\`ls ~/notes|fzf\`"
alias pbcopy='xclip -selection clipboard'
alias python="python3"
alias pip="pip3"

# tmux 
alias tmux="tmux -u2"
alias tm="tmux new -s $2"
alias ta="tmux attach -t $2"
alias tl="tmux ls"

# docker aliases
alias dprune="docker container prune"

# ctrl + p to open vim and run telescope
bindkey -s '^p' 'tim\n'
alias tim='vim +"lua telescope_into_dir()"'

# GO aliases
alias go-build-all="~/scripts/go-build-all.sh"

# SSH into bandit servers based on level name
alias bandit="ssh bandit$1@bandit.labs.overthewire.org -p2220"

# AWS
function aws-switch-profile() {
  export AWS_PROFILE=$(cat ~/.aws/credentials | grep "\[.*\]" | awk -F'[][]' '{print $2}' | fzf)
  rg -A3 -NI "$AWS_PROFILE" ~/.aws/credentials
}

# jump to any directory with <ctrl + f>
# by default the base directory is set to your $HOME path
# export JUMP_DIR="any/other/path" to override it
bindkey -s '^f' 'jump_to_directory\n'
function jump_to_directory() {
  base_path=$HOME
  [ -z "$JUMP_DIR" ] || base_path=$JUMP_DIR

  # so that you dont see you $HOME path in every entry
  base_path_escaped="$(echo $base_path | sed 's/\//\\\//g')" 

  cd $base_path$(find $base_path -type d | grep -v "\/\?.git" | sed "s/$base_path_escaped//g" | fzf)
}
